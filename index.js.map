{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"52370866-f56fe6e7c04694f1b916d2ffa\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport async function getImagesByQuery(query) {\n  const params = {\n    key: API_KEY,\n    q: query,\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: true,\n  };\n\n  try {\n    const response = await axios.get(BASE_URL, { params });\n    return response.data.hits;\n  } catch (error) {\n    throw new Error(\"Error fetching images: \" + error.message);\n  }\n}\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nlet lightbox = new SimpleLightbox(\".gallery a\", {\n  captionsData: \"alt\",\n  captionDelay: 250,\n});\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nexport function createGallery(images) {\n  const markup = images.map(img => `\n    <li class=\"gallery-item\">\n      <a href=\"${img.largeImageURL}\">\n        <img src=\"${img.webformatURL}\" alt=\"${img.tags}\" />\n      </a>\n      <div class=\"info\">\n        <p><span>Likes</span>${img.likes}</p>\n        <p><span>Views</span>${img.views}</p>\n        <p><span>Comments</span>${img.comments}</p>\n        <p><span>Downloads</span>${img.downloads}</p>\n      </div>\n    </li>\n  `).join(\"\");\n\n  gallery.insertAdjacentHTML(\"beforeend\", markup);\n  lightbox.refresh();\n}\n\n\nexport function showLoader() {\n  loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"hidden\");\n}","import { getImagesByQuery } from \"./js/pixabay-api\";\nimport { createGallery, clearGallery, showLoader, hideLoader } from \"./js/render-functions\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", async (e) => {\n  e.preventDefault();\n\n  const query = e.target.elements[\"search-text\"].value.trim();\n\n  if (!query) {\n    iziToast.error({ \n      message: \"Please enter a search term!\", \n      position: \"topRight\",           \n      class: \"custom-toast custom-error\"  \n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  try {\n    const images = await getImagesByQuery(query);\n    if (images.length === 0) {\n      iziToast.warning({\n        message: \"Sorry, there are no images matching your search query. Please try again!\",\n        position: \"topRight\",\n        class: \"custom-toast custom-warning\"\n      });\n    } else {\n      createGallery(images);\n    }\n  } catch (error) {\n    iziToast.error({\n      message: \"Something went wrong. Try again later.\",\n      position: \"topRight\",\n      class: \"custom-toast custom-error\"\n    });\n  } finally {\n    hideLoader();\n  }\n});\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","params","axios","error","gallery","loader","lightbox","SimpleLightbox","clearGallery","createGallery","images","markup","img","showLoader","hideLoader","form","e","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,eAAeC,EAAiBC,EAAO,CAC5C,MAAMC,EAAS,CACb,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EAEE,GAAI,CAEF,OADiB,MAAME,EAAM,IAAIJ,EAAU,CAAE,OAAAG,CAAM,CAAE,GACrC,KAAK,IACtB,OAAQE,EAAO,CACd,MAAM,IAAI,MAAM,0BAA4BA,EAAM,OAAO,CAC1D,CACH,CCjBA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAE/C,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,GAAe,CAC7BJ,EAAQ,UAAY,EACtB,CAEO,SAASK,EAAcC,EAAQ,CACpC,MAAMC,EAASD,EAAO,IAAIE,GAAO;AAAA;AAAA,iBAElBA,EAAI,aAAa;AAAA,oBACdA,EAAI,YAAY,UAAUA,EAAI,IAAI;AAAA;AAAA;AAAA,+BAGvBA,EAAI,KAAK;AAAA,+BACTA,EAAI,KAAK;AAAA,kCACNA,EAAI,QAAQ;AAAA,mCACXA,EAAI,SAAS;AAAA;AAAA;AAAA,GAG7C,EAAE,KAAK,EAAE,EAEVR,EAAQ,mBAAmB,YAAaO,CAAM,EAC9CL,EAAS,QAAO,CAClB,CAGO,SAASO,GAAa,CAC3BR,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASS,GAAa,CAC3BT,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCpCA,MAAMU,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,MAAOC,GAAM,CAC3CA,EAAE,eAAc,EAEhB,MAAMhB,EAAQgB,EAAE,OAAO,SAAS,aAAa,EAAE,MAAM,OAErD,GAAI,CAAChB,EAAO,CACViB,EAAS,MAAM,CACb,QAAS,8BACT,SAAU,WACV,MAAO,2BACb,CAAK,EACD,MACD,CAEDT,IACAK,IAEA,GAAI,CACF,MAAMH,EAAS,MAAMX,EAAiBC,CAAK,EACvCU,EAAO,SAAW,EACpBO,EAAS,QAAQ,CACf,QAAS,2EACT,SAAU,WACV,MAAO,6BACf,CAAO,EAEDR,EAAcC,CAAM,CAEvB,MAAe,CACdO,EAAS,MAAM,CACb,QAAS,yCACT,SAAU,WACV,MAAO,2BACb,CAAK,CACL,QAAY,CACRH,GACD,CACH,CAAC"}